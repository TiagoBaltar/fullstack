{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","PersonForm","onSubmit","name","onChangeName","number","onChangeNumber","type","Persons","filter","list","handleDelete","x","toLowerCase","includes","map","onClick","id","Notification","message","className","baseUrl","axios","get","then","response","data","newItem","post","updateItem","request","put","console","log","delete","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","notification","setNotification","setType","useEffect","personService","initialPersons","displayAndRefresh","setTimeout","event","target","preventDefault","newPerson","key","find","window","confirm","updatedPerson","catch","error","JSON","stringify","returnedPerson","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.ca3932b2.chunk.js","sourcesContent":["import React from \"react\";\n\nconst Filter = ({ value, onChange }) => {\n  return (\n    <div>\n      filter shown with <input value={value} onChange={onChange}></input>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from \"react\";\n\nconst PersonForm = ({\n  onSubmit,\n  name,\n  onChangeName,\n  number,\n  onChangeNumber,\n}) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div>\n        name: <input value={name} onChange={onChangeName} />\n      </div>\n      <div>\n        number: <input value={number} onChange={onChangeNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import React from \"react\";\n\nconst Persons = ({ filter, list, handleDelete }) => {\n  const newList = list.filter((x) => {\n    return x.name.toLowerCase().includes(filter.toLowerCase());\n  });\n\n  return newList.map((x) => (\n    <p key={x.name}>\n      {x.name} {x.number}{\" \"}\n      <button onClick={handleDelete} id={x.id}>\n        delete\n      </button>\n    </p>\n  ));\n};\n\nexport default Persons;\n","import React from \"react\";\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null;\n  } else {\n    return <div className={type}>{message}</div>;\n  }\n};\n\nexport default Notification;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then((response) => response.data)\n}\nconst add = (newItem) => {\n  const request = axios.post(baseUrl, newItem)\n  return request.then((response) => response.data)\n}\nconst update = (id, updateItem) => {\n  const request = axios.put(`${baseUrl}/${id}`, updateItem)\n  console.log(`${baseUrl}/${id}`, updateItem)\n  return request.then((response) => response.data)\n}\nconst remove = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then((response) => response.data)\n}\n\nexport default { getAll, add, update, remove }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [filter, setFilter] = useState('')\n  const [notification, setNotification] = useState('')\n  const [type, setType] = useState('')\n\n  useEffect(() => {\n    personService //\n      .getAll()\n      .then((initialPersons) => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const displayAndRefresh = (message, type) => {\n    setNotification(message)\n    setType(type)\n    setNewName('')\n    setNewNumber('')\n    setTimeout(() => {\n      setNotification('')\n      setType('')\n    }, 5000)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    const newPerson = { key: newName, name: newName, number: newNumber }\n\n    if (persons.find((x) => x.name === newName)) {\n      if (\n        window.confirm(\n          `${newName} is already added to phonebook, replace old number with new one?`\n        )\n      ) {\n        const id = persons.find((x) => x.name === newName).id\n        personService //\n          .update(id, newPerson)\n          .then((updatedPerson) => {\n            console.log(`updatedPerson ${updatedPerson}`)\n            setPersons(persons.map((x) => (x.id !== id ? x : updatedPerson)))\n            displayAndRefresh(`Updated ${updatedPerson.name}`, 'update')\n          })\n          .catch((error) => {\n            displayAndRefresh(\n              `Error: ${JSON.stringify(error.response.data)}`,\n              'error'\n            )\n          })\n      } else {\n        setNewName('')\n        setNewNumber('')\n      }\n    } else {\n      personService //\n        .add(newPerson)\n        .then((returnedPerson) => {\n          console.log(`returnedPerson ${returnedPerson}`)\n          setPersons(persons.concat(returnedPerson))\n          displayAndRefresh(`Added ${returnedPerson.name}`, 'add')\n        })\n        .catch((error) => {\n          displayAndRefresh(\n            `Error: ${JSON.stringify(error.response.data)}`,\n            'error'\n          )\n          console.log(error.response.data)\n        })\n    }\n  }\n\n  const handleNameChange = (event) => setNewName(event.target.value)\n  const handleNumberChange = (event) => setNewNumber(event.target.value)\n  const handleFilterChange = (event) => setFilter(event.target.value)\n  const handleDelete = (event) => {\n    const id = event.target.id\n    const name = persons.find((x) => x.id === id).name\n    if (window.confirm(`Delete ${name} ?`)) {\n      personService //\n        .remove(event.target.id)\n        .then(() => {\n          setPersons(persons.filter((x) => x.id !== id))\n          setNotification(`Removed ${name}`)\n          setType('remove')\n          setTimeout(() => {\n            setNotification('')\n            setType('')\n          }, 5000)\n        })\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={notification} type={type} />\n      <Filter value={filter} onChange={handleFilterChange} />\n\n      <h3>Add a new</h3>\n      <PersonForm\n        onSubmit={addPerson}\n        name={newName}\n        onChangeName={handleNameChange}\n        number={newNumber}\n        onChangeNumber={handleNumberChange}\n      />\n\n      <h3>Numbers</h3>\n      <Persons filter={filter} list={persons} handleDelete={handleDelete} />\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport \"./index.css\";\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n"],"sourceRoot":""}